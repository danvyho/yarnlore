<div class="container p-4">
  <h2><%= header %></h2>
  <div class="row mt-4 mb-5">
    <div class="col-12">
      <%= simple_form_for post, html: { method: method }, data: { controller: "toggle-pattern-fields" } do |f| %>
        <%= f.input :title, required: true %>
        <%= f.input :content, required: true %>
        <%= f.input :image, as: :file, required: true %>
        <%= f.input :type,
          as: :radio_buttons,
          collection: [['Post', 'post'], ['Pattern', 'pattern']],
          input_html: { class: 'text-reset',
                        data: { action: "click->toggle-pattern-fields#toggle",
                                toggle_pattern_fields_target: "radio" } },
          wrapper_html: { class: '' }
        %>

        <div class="accordion accordion-flush mt-2 visually-hidden" id="accordionFlushExample" data-toggle-pattern-fields-target="patternFields">
          <div class="accordion-item">
            <h2 class="accordion-header" id="flush-headingOne">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                Additional fields for patterns
              </button>
            </h2>
            <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
              <div class="accordion-body">
                <%= f.input :yarn_weight %>
                <%= f.input :gauge %>
                <%= f.input :needle_size %>
                <%= f.input :craft %>
                <%= f.input :category %>
              </div>
            </div>
          </div>
        </div>
        <%= f.submit "Submit", class: "btn btn-primary mt-3" %>
      <% end %>
    </div>
  </div>
</div>
